# Spring Boot vs Quarkus Generated Code Comparison

This document shows the **key differences** between Spring Boot and Quarkus code generated by the CLI.

---

## ğŸ“Š Side-by-Side Comparison

### 1. REST Controllers/Resources

#### **Spring Boot** (PetsController.java)
```java
@RestController                    // Spring annotation
@RequestMapping("/pets")           // Base path mapping
@RequiredArgsConstructor          // Lombok constructor injection
@Validated
public class PetsController {

    private final PetsService service;  // Constructor injection

    @GetMapping("/pets")              // Spring mapping
    public ResponseEntity<?> listPets(
        @RequestParam("limit") Long limit,  // Spring annotations
        @RequestParam("tag") String tag
    ) {
        var result = service.listPets(limit, tag);
        return ResponseEntity.ok(result);  // Spring ResponseEntity
    }
}
```

#### **Quarkus** (PetsResource.java)
```java
@Path("/pets")                     // JAX-RS annotation
@Produces(MediaType.APPLICATION_JSON)
@Consumes(MediaType.APPLICATION_JSON)
public class PetsResource {

    @Inject                        // CDI injection
    PetsService service;

    @GET                          // JAX-RS annotations
    @Path("/pets")
    public Response listPets(
        @QueryParam("limit") Long limit,  // JAX-RS annotations
        @QueryParam("tag") String tag
    ) {
        var result = service.listPets(limit, tag);
        return Response.ok(result).build();  // JAX-RS Response
    }
}
```

---

### 2. Key Annotation Differences

| Feature | Spring Boot | Quarkus |
|---------|-------------|---------|
| **Class Annotation** | `@RestController` | `@Path("/path")` |
| **HTTP Method** | `@GetMapping`, `@PostMapping`, etc. | `@GET`, `@POST`, etc. |
| **Path Parameter** | `@PathVariable` | `@PathParam` |
| **Query Parameter** | `@RequestParam` | `@QueryParam` |
| **Dependency Injection** | `@Autowired` or constructor | `@Inject` |
| **Request Body** | `@RequestBody` | Direct parameter |
| **Response Type** | `ResponseEntity<?>` | `Response` |
| **OpenAPI Schema** | Swagger v3 annotations | MicroProfile OpenAPI |

---

### 3. Model/DTO Classes

#### **Spring Boot** (Pet.java)
```java
package com.petstore.api.dto;  // "dto" package

@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class Pet {
    @NotNull(message = "id is required")
    @JsonProperty("id")
    private String id;

    @NotNull(message = "name is required")
    @JsonProperty("name")
    private String name;

    @JsonProperty("tag")
    private String tag;
}
```

#### **Quarkus** (Pet.java)
```java
package com.petstore.api.model;  // "model" package

@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "Pet")      // MicroProfile annotation
public class Pet {
    @NotNull(message = "id is required")
    @JsonProperty("id")
    @Schema(description = "Unique identifier for the pet")
    private String id;

    @NotNull(message = "name is required")
    @JsonProperty("name")
    @Schema(description = "Name of the pet")
    private String name;

    @JsonProperty("tag")
    @Schema(description = "Tag for categorization")
    private String tag;
}
```

**Key Differences:**
- Spring uses `dto` package, Quarkus uses `model` package
- Quarkus adds `@Schema` annotations for enhanced OpenAPI docs
- Core validation is identical (both use Jakarta Validation)

---

### 4. Exception Handling

#### **Spring Boot** (GlobalExceptionHandler.java)
```java
@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(Exception.class)
    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)
    public ResponseEntity<ErrorResponse> handleException(Exception ex) {
        ErrorResponse error = ErrorResponse.builder()
            .timestamp(LocalDateTime.now())
            .status(500)
            .error("Internal Server Error")
            .message(ex.getMessage())
            .build();

        return ResponseEntity
            .status(HttpStatus.INTERNAL_SERVER_ERROR)
            .body(error);
    }
}
```

#### **Quarkus** (GlobalExceptionMapper.java)
```java
@Provider
public class GlobalExceptionMapper implements ExceptionMapper<Exception> {

    @Override
    public Response toResponse(Exception exception) {
        ErrorResponse error = ErrorResponse.builder()
            .timestamp(LocalDateTime.now())
            .status(500)
            .error("Internal Server Error")
            .message(exception.getMessage())
            .build();

        return Response
            .serverError()
            .entity(error)
            .build();
    }
}
```

**Key Differences:**
- Spring uses `@RestControllerAdvice` + `@ExceptionHandler`
- Quarkus uses `@Provider` + `implements ExceptionMapper<E>`
- Spring returns `ResponseEntity`, Quarkus returns `Response`

---

### 5. Logging & Monitoring

#### **Spring Boot** (LoggingAspect.java)
```java
@Aspect
@Component
public class LoggingAspect {

    @Around("execution(* com.petstore.api.controller..*(..))")
    public Object logControllerMethods(ProceedingJoinPoint joinPoint) {
        log.debug("Entering: {}", joinPoint.getSignature());
        long start = System.currentTimeMillis();

        Object result = joinPoint.proceed();

        long duration = System.currentTimeMillis() - start;
        log.debug("Duration: {}ms", duration);

        return result;
    }
}
```

#### **Quarkus** (LoggingInterceptor.java)
```java
@Logged
@Interceptor
class LoggingInterceptor {

    @AroundInvoke
    public Object logInvocation(InvocationContext context) throws Exception {
        log.debug("Entering: {}", context.getMethod().getName());
        long start = System.currentTimeMillis();

        Object result = context.proceed();

        long duration = System.currentTimeMillis() - start;
        log.debug("Duration: {}ms", duration);

        return result;
    }
}
```

**Key Differences:**
- Spring uses **AspectJ** (`@Aspect`, `@Around`)
- Quarkus uses **CDI Interceptors** (`@Interceptor`, `@AroundInvoke`)
- Spring uses `ProceedingJoinPoint`, Quarkus uses `InvocationContext`

---

### 6. Project Structure

#### **Spring Boot**
```
backend-spring/
â”œâ”€â”€ pom.xml
â””â”€â”€ src/main/java/com/petstore/api/
    â”œâ”€â”€ Application.java              # Main class with @SpringBootApplication
    â”œâ”€â”€ controller/                   # REST controllers
    â”‚   â””â”€â”€ PetsController.java
    â”œâ”€â”€ service/                      # Business logic
    â”‚   â””â”€â”€ PetsService.java
    â”œâ”€â”€ dto/                          # Data Transfer Objects
    â”‚   â”œâ”€â”€ Pet.java
    â”‚   â””â”€â”€ NewPet.java
    â”œâ”€â”€ exception/                    # Exception handling
    â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
    â”‚   â””â”€â”€ ErrorResponse.java
    â”œâ”€â”€ config/                       # Configuration
    â”‚   â”œâ”€â”€ ApplicationConfig.java
    â”‚   â””â”€â”€ MonitoringConfig.java
    â””â”€â”€ aspect/                       # AOP aspects
        â””â”€â”€ LoggingAspect.java
```

#### **Quarkus**
```
backend-quarkus/
â”œâ”€â”€ pom.xml
â””â”€â”€ src/main/java/com/petstore/api/
    â”œâ”€â”€ resource/                     # JAX-RS resources (no main class needed)
    â”‚   â””â”€â”€ PetsResource.java
    â”œâ”€â”€ service/                      # Business logic
    â”‚   â””â”€â”€ PetsService.java
    â”œâ”€â”€ model/                        # Domain models
    â”‚   â”œâ”€â”€ Pet.java
    â”‚   â””â”€â”€ NewPet.java
    â”œâ”€â”€ exception/                    # Exception mapping
    â”‚   â”œâ”€â”€ GlobalExceptionMapper.java
    â”‚   â””â”€â”€ ErrorResponse.java
    â”œâ”€â”€ health/                       # Health checks
    â”‚   â””â”€â”€ HealthChecks.java
    â”œâ”€â”€ config/                       # Configuration
    â”‚   â””â”€â”€ MonitoringConfig.java
    â””â”€â”€ interceptor/                  # CDI interceptors
        â””â”€â”€ LoggingInterceptor.java
```

**Key Differences:**
- Spring: `controller/` + `dto/` + `aspect/` + `Application.java`
- Quarkus: `resource/` + `model/` + `interceptor/` + `health/` (no main class)

---

### 7. Dependencies (pom.xml)

#### **Spring Boot**
```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.2.0</version>
</parent>

<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
    </dependency>
</dependencies>
```

#### **Quarkus**
```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>io.quarkus.platform</groupId>
            <artifactId>quarkus-bom</artifactId>
            <version>3.6.0</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>

<dependencies>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-resteasy-reactive-jackson</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-hibernate-validator</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-smallrye-health</artifactId>
    </dependency>
</dependencies>
```

---

### 8. Configuration

#### **Spring Boot** (application.properties)
```properties
server.port=8080
spring.application.name=api-service

# Actuator
management.endpoints.web.exposure.include=health,metrics,prometheus

# OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
```

#### **Quarkus** (application.properties)
```properties
quarkus.http.port=8080
quarkus.application.name=api-service

# OpenAPI
quarkus.smallrye-openapi.path=/openapi
quarkus.swagger-ui.path=/swagger-ui

# Health & Metrics
quarkus.smallrye-health.ui.always-include=true
quarkus.micrometer.enabled=true
```

---

### 9. Running the Applications

#### **Spring Boot**
```bash
# Development
mvn spring-boot:run

# Build JAR
mvn clean package

# Run JAR
java -jar target/petstore-spring-1.0.0.jar

# Startup time: 3-5 seconds
# Memory: 200-400 MB
```

#### **Quarkus**
```bash
# Development (with live reload)
mvn quarkus:dev

# Build JAR
mvn clean package

# Run JAR
java -jar target/quarkus-app/quarkus-run.jar

# Build native image
mvn clean package -Pnative

# Startup time: 1-2 seconds (JVM) / 0.05s (native)
# Memory: 100-200 MB (JVM) / 50-100 MB (native)
```

---

### 10. API Endpoints

Both frameworks expose the same REST API:

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/pets` | GET | List all pets |
| `/pets` | POST | Create a pet |
| `/pets/{petId}` | GET | Get pet by ID |
| `/pets/{petId}` | PUT | Update a pet |
| `/pets/{petId}` | DELETE | Delete a pet |
| `/swagger-ui` | GET | Swagger UI (documentation) |
| `/actuator/health` (Spring) or `/q/health` (Quarkus) | GET | Health check |
| `/actuator/prometheus` (Spring) or `/q/metrics` (Quarkus) | GET | Metrics |

---

## ğŸ¯ Summary of Differences

| Aspect | Spring Boot | Quarkus |
|--------|-------------|---------|
| **Architecture** | Spring MVC | JAX-RS (Jakarta EE) |
| **Dependency Injection** | Spring DI | CDI (Contexts and Dependency Injection) |
| **REST Annotations** | Spring-specific | Standard JAX-RS |
| **AOP** | AspectJ | CDI Interceptors |
| **Configuration** | Spring-specific properties | Quarkus-specific properties |
| **Startup Time** | 3-5s | 1-2s (JVM) / 0.05s (native) |
| **Memory Usage** | 200-400 MB | 100-200 MB (JVM) / 50-100 MB (native) |
| **Native Compilation** | Limited (Spring Native experimental) | Excellent (GraalVM) |
| **Maturity** | Very mature | Maturing rapidly |
| **Ecosystem** | Huge | Growing fast |
| **Best For** | Enterprise, traditional Java | Cloud-native, microservices, serverless |

---

## ğŸ“ Download Generated Files

All generated files are available in:
- **Spring Boot**: `demo-output/backend-spring/`
- **Quarkus**: `demo-output/backend-quarkus/`
- **React**: `demo-output/frontend-react/`

You can explore the complete generated code in these directories!

---

## ğŸš€ Quick Test

### Test Spring Boot:
```bash
cd demo-output/backend-spring
mvn spring-boot:run
# Visit: http://localhost:8080/swagger-ui.html
```

### Test Quarkus:
```bash
cd demo-output/backend-quarkus
mvn quarkus:dev
# Visit: http://localhost:8080/swagger-ui
```

---

## ğŸ’¡ When to Use What?

### Use **Spring Boot** if:
- âœ… Large existing Spring ecosystem
- âœ… Enterprise applications with mature requirements
- âœ… Team familiar with Spring
- âœ… Need extensive third-party integrations

### Use **Quarkus** if:
- âœ… Cloud-native/Kubernetes deployments
- âœ… Microservices architecture
- âœ… Need fast startup and low memory
- âœ… Serverless/FaaS deployments
- âœ… Want native compilation

---

**Both frameworks produce production-ready, well-structured code with comprehensive cross-cutting concerns!** ğŸ‰
